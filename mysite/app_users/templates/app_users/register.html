{% extends 'app_users/index.html' %}
{% block title %} Register {% endblock title %}
{% block content %} 
{% load widget_tweaks %}
<section class="h-100 gradient-form" style="background-color: #eee;">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-7">
        <div class="card  text-black shadow" style="border-radius: 18% 0 18% 0;">
          <div class="row g-0">
              <div class="card-body p-md-5 mx-md-4">
                <h2 class="text-uppercase text-center mb-5">Create an account</h2>  
                <form method="post" action="">
                  {% csrf_token %}
                <div class="form-outline mb-4">
                  {{user_form.username.label}}
                  {% render_field user_form.username class="form-control form-control-lg" placeholder="Enter Username" type="text"  %}
                </div>
                
                <div class="form-outline mb-4">         
                  {{user_form.email.label}}
                  {% render_field user_form.email class="form-control form-control-lg" placeholder="Enter email" type="email" %}
                </div>

                <div class="form-outline mb-4">         
                  {{profile_form.mobile.label}}
                  {% render_field profile_form.mobile class="form-control form-control-lg" placeholder="Enter Mobile Number" type="text" %}
                </div>

                <div class="form-outline mb-4 row g-0">
                  <div class="col">                    
                    <div class="row">
                      <label for="id_gender" class="form-check-label" >Gender</label>
                    </div>
                    <div class="row">
                    {% render_field profile_form.gender class="form-check-inline justify-content-start p-2 m-0"  type="radio" %}
                    </div>
                  </div>
                  <div class="col">                    
                    {{form.Date_of_Birth.label}}
                    {% render_field profile_form.Date_of_Birth class="form-control" type="date"  %}
                  </div>
                </div>

                <div class="form-outline mb-4">
                  {{form.password1.label}}
                  {% render_field user_form.password1 class="form-control form-control-lg" placeholder="Enter Password" type="password" %}
                </div>

                <div class="form-outline mb-4">
                  {{form.password2.label}}
                  {% render_field user_form.password2 class="form-control form-control-lg" placeholder="Confirm password" type="password" %}                  
                </div>
                <p> {{user_form.errors}} </p>
                <p> {{profile_form.errors}} </p>

                {% if user_form.non_field_errors %}
                {% for error in user_form.non_field_errors %}
                 <p class="alert alert-danger my-3">{{error}}</p>
                {% endfor %}
              {% endif %}

              {% if profile_form.non_field_errors %}
                 {% for error in profile_form.non_field_errors %}
                 <p class="alert alert-danger my-3">{{error}}</p>
               {% endfor %}
             {% endif %}

                <div class="d-flex justify-content-center">
                  <input type="submit" class="btn btn-success btn-lg gradient-custom-4 text-body w-100" value="Register"/>
                </div>
                <p class="text-center text-muted mt-5 mb-0">Have already an account? <a href="{% url 'login' %}" class="fw-bold text-body"><u>Login here</u></a></p>                                                                  
              </form>
              </div>
            </div>            
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock content %}